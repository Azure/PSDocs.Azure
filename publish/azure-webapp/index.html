
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Generate documentation from Azure infrastructure as code (IaC) artifacts.">
      
      
      
        <meta name="author" content="Microsoft">
      
      
        <link rel="canonical" href="https://github.com/Azure/PSDocs.Azure/publish/azure-webapp/">
      
      <link rel="icon" href="../../assets/ms_icon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.9">
    
    
      
        <title>Publish to Azure Web App - PSDocs for Azure</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:""}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    
      


    
    

  <!-- Determine title -->
  
  
    
  

  <!-- The image needs to have an absolute URL -->
  

  <!-- Open graph meta tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="PSDocs for Azure - Publish to Azure Web App" />
  <meta property="og:description" content="Generate documentation from Azure infrastructure as code (IaC) artifacts." />
  <meta property="og:url" content="https://github.com/Azure/PSDocs.Azure/publish/azure-webapp/" />
  <meta property="og:image" content="https://repository-images.githubusercontent.com/317488850/548f4800-8afc-11eb-98b1-9fb4c897d1d4" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="640" />
  <meta property="og:image:alt" content="Generate documentation from Azure infrastructure as code (IaC) artifacts." />

  <!-- Twitter meta tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@github" />
  <meta name="twitter:title" content="PSDocs for Azure - Publish to Azure Web App" />
  <meta name="twitter:description" content="Generate documentation from Azure infrastructure as code (IaC) artifacts." />
  <meta name="twitter:image" content="https://repository-images.githubusercontent.com/317488850/548f4800-8afc-11eb-98b1-9fb4c897d1d4" />


  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#publish-to-azure-web-app" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PSDocs for Azure" class="md-header__button md-logo" aria-label="PSDocs for Azure" data-md-component="logo">
      
  <img src="../../assets/ms_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PSDocs for Azure
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Publish to Azure Web App
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Azure/PSDocs.Azure/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/" class="md-tabs__link">
        Getting started
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PSDocs for Azure" class="md-nav__button md-logo" aria-label="PSDocs for Azure" data-md-component="logo">
      
  <img src="../../assets/ms_icon.png" alt="logo">

    </a>
    PSDocs for Azure
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Azure/PSDocs.Azure/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../install-instructions/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../creating-your-pipeline/" class="md-nav__link">
        Creating your pipeline
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      <label class="md-nav__link" for="__nav_2_4">
        Publishing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Publishing" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Publishing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../blob-storage/" class="md-nav__link">
        Publish to Azure Storage
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../using-metadata/" class="md-nav__link">
        Using metadata
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../license-contributing/" class="md-nav__link">
        License and contributing
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_8" type="checkbox" id="__nav_2_8" >
      
      <label class="md-nav__link" for="__nav_2_8">
        Releases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Releases" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Releases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/Azure/PSDocs.Azure/blob/main/CHANGELOG.md" class="md-nav__link">
        Change log
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../support/" class="md-nav__link">
        Support
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#generating-docs-site" class="md-nav__link">
    Generating docs site
  </a>
  
    <nav class="md-nav" aria-label="Generating docs site">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with-mkdocs" class="md-nav__link">
    With MkDocs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publishing-docs" class="md-nav__link">
    Publishing docs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-authorization" class="md-nav__link">
    Configuring authorization
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Azure/PSDocs.Azure/blob/main/docs/publish/azure-webapp.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="publish-to-azure-web-app">Publish to Azure Web App<a class="headerlink" href="#publish-to-azure-web-app" title="Permanent link">#</a></h1>
<p>Markdown generated with PSDocs for Azure can be published as HTML for viewing with Azure App Service.
Using Azure App Service our docs site can be secured for internal use or shared with authorized guests.</p>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>This topic covers using a pipeline to publish HTML generated by PSDocs for Azure into an Azure Web App.</p>
</div>
<h2 id="generating-docs-site">Generating docs site<a class="headerlink" href="#generating-docs-site" title="Permanent link">#</a></h2>
<p>To publish documentation to an Azure Web App, we need to generate HTML from markdown.
There are several widely used tools that help you do this.
Two open source examples are:</p>
<ul>
<li><strong>MkDocs</strong> &mdash; A Python-based static site generator.
  MkDocs is fast and can be customized with corporate branding fairly easily.
  A wide-range of themes are also available.</li>
<li><strong>DocFX</strong> &mdash; A .NET-based static site generator.
  DocFX is slightly easier to get up and running.</li>
</ul>
<h3 id="with-mkdocs">With MkDocs<a class="headerlink" href="#with-mkdocs" title="Permanent link">#</a></h3>
<p>Markdown content generated with PSDocs for Azure can be published as HTML with <a href="https://www.mkdocs.org/">MkDocs</a>.
MkDocs is a command-line tool that converts markdown into HTML.</p>
<div class="tabbed-set" data-tabs="1:1"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">GitHub Actions</label><div class="tabbed-content">
<p>Extend your GitHub Actions workflow <code>.github/workflows/publish-docs.yaml</code> created previously by completing the following steps:</p>
<ul>
<li>Add the following steps to install and build documentation with MkDocs.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Setup Python</span>
  <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v2.2.2</span>
  <span class="nt">with</span><span class="p">:</span>
    <span class="nt">python-version</span><span class="p">:</span> <span class="s">&#39;3.9&#39;</span>
    <span class="nt">architecture</span><span class="p">:</span> <span class="s">&#39;x64&#39;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
  <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">python3 -m pip install --upgrade pip</span>
    <span class="no">python3 -m pip install wheel</span>
    <span class="no">python3 -m pip install -r requirements-docs.txt</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build site</span>
  <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mkdocs build</span>
</code></pre></div>
</div>
</div>
<ul>
<li>Create a <code>requirements-docs.txt</code> file in the root of the repository.
  This file is used by Python to install the required package dependencies.</li>
</ul>
<div class="highlight"><pre><span></span><code>mkdocs==1.2.1
mkdocs-material==7.1.8
pymdown-extensions==8.2
mkdocs-git-revision-date-plugin==0.3.1
mdx-truly-sane-lists==1.2
mkdocs-awesome-pages-plugin==2.5.0
</code></pre></div>
<ul>
<li>Create a <code>mkdocs.yaml</code> file in the root of the repository.
  This file configures MkDocs.
  By configuring this file you can change common settings such as theme and layout.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">site_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Contoso Docs for Azure</span>
<span class="nt">site_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://docs.contoso.com/</span>
<span class="nt">site_description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Azure documentation for Contoso&#39;s modern cloud environment.</span>

<span class="nt">repo_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/Azure/PSDocs.Azure/</span>
<span class="nt">edit_uri</span><span class="p">:</span> <span class="s">&#39;&#39;</span>

<span class="nt">theme</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">material</span>
  <span class="nt">font</span><span class="p">:</span>
    <span class="nt">text</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Roboto</span>
  <span class="nt">palette</span><span class="p">:</span>
    <span class="nt">primary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">blue</span>
  <span class="nt">icon</span><span class="p">:</span>
    <span class="nt">repo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fontawesome/brands/github</span>
    <span class="nt">logo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">material/microsoft-azure</span>
  <span class="nt">features</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">navigation.instant</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">navigation.indexes</span>
  <span class="p p-Indicator">-</span> <span class="nt">navigation.sections</span><span class="p">:</span>
      <span class="nt">level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">navigation.tabs</span>

<span class="nt">markdown_extensions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">toc</span><span class="p">:</span>
      <span class="nt">permalink</span><span class="p">:</span> <span class="s">&#39;#&#39;</span>
      <span class="nt">separator</span><span class="p">:</span> <span class="s">&#39;-&#39;</span>

<span class="nt">plugins</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">search</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">git-revision-date</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">awesome-pages</span>
</code></pre></div>
<!--

### With DocFX

Markdown content generated with PSDocs for Azure can be published as HTML with [DocFX][2].
DocFX is a command-line tool that converts markdown into HTML.

  [2]: https://dotnet.github.io/docfx/

=== "Azure Pipelines"

    In your Azure DevOps YAML pipeline `.azure-pipelines/build-arm.yaml` created previously:

    - Add a new stage to publish the docs site to Azure App Service.

    <div class="highlight"><pre><span></span><code><span class="nt">stages</span><span class="p">:</span>

<span class="c1"># Build pipeline</span>
<span class="p p-Indicator">-</span> <span class="nt">stage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build</span>
  <span class="nt">displayName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build</span>
  <span class="nt">jobs</span><span class="p">:</span>

  <span class="p p-Indicator">-</span> <span class="nt">job</span><span class="p">:</span>
    <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Documentation&#39;</span>
    <span class="nt">pool</span><span class="p">:</span>
      <span class="nt">vmImage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">$(imageName)</span>
    <span class="nt">steps</span><span class="p">:</span>

    <span class="c1"># Install pipeline dependencies</span>
    <span class="p p-Indicator">-</span> <span class="nt">powershell</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">./.azure-pipelines/pipeline-deps.ps1</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Install</span><span class="nv"> </span><span class="s">dependencies&#39;</span>

    <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UniversalPackages@0</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Download</span><span class="nv"> </span><span class="s">docfx&#39;</span>
      <span class="nt">inputs</span><span class="p">:</span>
        <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">download</span>
        <span class="nt">vstsFeed</span><span class="p">:</span> <span class="s">&#39;Tools&#39;</span>
        <span class="nt">vstsFeedPackage</span><span class="p">:</span> <span class="s">&#39;docfx&#39;</span>
        <span class="nt">vstsPackageVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2.56.2</span>
        <span class="nt">downloadDirectory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">out/docfx</span>

    <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">UniversalPackages@0</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Download</span><span class="nv"> </span><span class="s">wkhtmltopdf&#39;</span>
      <span class="nt">inputs</span><span class="p">:</span>
        <span class="nt">command</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">download</span>
        <span class="nt">vstsFeed</span><span class="p">:</span> <span class="s">&#39;Tools&#39;</span>
        <span class="nt">vstsFeedPackage</span><span class="p">:</span> <span class="s">&#39;wkhtmltopdf&#39;</span>
        <span class="nt">vstsPackageVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.12.5</span>
        <span class="nt">downloadDirectory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">out/wkhtmltopdf</span>

    <span class="c1"># Build documentation</span>
    <span class="p p-Indicator">-</span> <span class="nt">pwsh</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Invoke-Build BuildDocs</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Build</span><span class="nv"> </span><span class="s">documentation&#39;</span>

    <span class="p p-Indicator">-</span> <span class="nt">publish</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">out/docs/_site</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Publish</span><span class="nv"> </span><span class="s">docs</span><span class="nv"> </span><span class="s">site&#39;</span>
      <span class="nt">artifact</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs-site</span>
</code></pre></div>

## Publishing to Web App

=== "Azure Pipelines"

    In your Azure DevOps YAML pipeline `.azure-pipelines/build-arm.yaml` created previously:

    - Add a new stage to publish the docs site to Azure App Service.

    <div class="highlight"><pre><span></span><code><span class="c1"># Docs pipeline</span>
<span class="p p-Indicator">-</span> <span class="nt">stage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Publish</span>
  <span class="nt">displayName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Publish</span>
  <span class="nt">dependsOn</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Build</span>
  <span class="nt">variables</span><span class="p">:</span>
    <span class="l l-Scalar l-Scalar-Plain">${{ if eq(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/master&#39;) }}</span><span class="p p-Indicator">:</span>
      <span class="nt">publishSlot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">staging</span>
    <span class="l l-Scalar l-Scalar-Plain">${{ if ne(variables[&#39;Build.SourceBranch&#39;], &#39;refs/heads/master&#39;) }}</span><span class="p p-Indicator">:</span>
      <span class="nt">publishSlot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">preview</span>
  <span class="nt">jobs</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">job</span><span class="p">:</span>
    <span class="nt">steps</span><span class="p">:</span>
<span class="c1">#   - template: jobs/docs.deploy.yaml</span>
<span class="c1">#     parameters:</span>
<span class="c1">#       connectionService: &#39;&lt;subscription_name&gt;&#39;</span>
<span class="c1">#       outPath: &#39;$(Build.SourcesDirectory)/out/&#39;</span>
<span class="c1">#       slotName: &#39;$(publishSlot)&#39;</span>

    <span class="c1"># Get docs</span>
    <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DownloadPipelineArtifact@1</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Download</span><span class="nv"> </span><span class="s">docs&#39;</span>
      <span class="nt">inputs</span><span class="p">:</span>
        <span class="nt">artifactName</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.artifact</span><span class="nv"> </span><span class="s">}}&#39;</span>
        <span class="nt">downloadPath</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.outPath</span><span class="nv"> </span><span class="s">}}docs-site/&#39;</span>

        <span class="c1"># Package web site</span>
    <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ArchiveFiles@2</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Package</span><span class="nv"> </span><span class="s">site&#39;</span>
      <span class="nt">inputs</span><span class="p">:</span>
        <span class="nt">archiveType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">zip</span>
        <span class="nt">includeRootFolder</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="nt">rootFolderOrFile</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.outPath</span><span class="nv"> </span><span class="s">}}docs-site/&#39;</span>
        <span class="nt">archiveFile</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.outPath</span><span class="nv"> </span><span class="s">}}docs-site.zip&#39;</span>

    <span class="c1"># Deploy web site</span>
    <span class="p p-Indicator">-</span> <span class="nt">task</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">AzureRmWebAppDeployment@4</span>
      <span class="nt">displayName</span><span class="p">:</span> <span class="s">&#39;Deploy</span><span class="nv"> </span><span class="s">docs</span><span class="nv"> </span><span class="s">site&#39;</span>
      <span class="nt">inputs</span><span class="p">:</span>
        <span class="nt">azureSubscription</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.connectionService</span><span class="nv"> </span><span class="s">}}&#39;</span>
        <span class="nt">WebAppName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ parameters.appName }}</span>
        <span class="nt">deployToSlotOrASE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="nt">ResourceGroupName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ parameters.resourceGroup }}</span>
        <span class="nt">SlotName</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ parameters.slotName }}</span>
        <span class="nt">DeploymentType</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">zipDeploy</span>
        <span class="nt">packageForLinux</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">parameters.outPath</span><span class="nv"> </span><span class="s">}}docs-site.zip&#39;</span>
</code></pre></div>

-->

<h2 id="publishing-docs">Publishing docs<a class="headerlink" href="#publishing-docs" title="Permanent link">#</a></h2>
<p>With documentation generated as HTML the content can be published to an Azure web app.</p>
<div class="tabbed-set" data-tabs="2:1"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><label for="__tabbed_2_1">GitHub Actions</label><div class="tabbed-content">
<p>Extend your GitHub Actions workflow <code>.github/workflows/publish-docs.yaml</code> created previously by completing the following steps:</p>
<ul>
<li>Add the following steps to publish documentation to Azure App Service.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Azure Login</span>
  <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">azure/login@v1.1</span>
  <span class="nt">with</span><span class="p">:</span>
    <span class="nt">creds</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.AZURE_CREDENTIALS }}</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Publish to Azure</span>
  <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">cd ./site</span>
    <span class="no">az webapp up -l eastus -n &#39;&lt;enter&gt;&#39; -g &#39;&lt;enter&gt;&#39; --subscription &#39;&lt;enter&gt;&#39; --html</span>
</code></pre></div>
<ul>
<li>Create an <a href="https://github.com/azure/login#configure-deployment-credentials">deployment credentials</a> <code>AZURE_CREDENTIALS</code> for the workflow to use to authenticate to Azure.</li>
<li>Set <code>-n</code> with the name of the Web App.</li>
<li>Set <code>-g</code> with the name of the Resource Group containing the Web App.</li>
<li>Set <code>--subscription</code> with the name or GUID of the subscription to deploy to.</li>
</ul>
</div>
</div>
<h2 id="configuring-authorization">Configuring authorization<a class="headerlink" href="#configuring-authorization" title="Permanent link">#</a></h2>
<p>Azure Web Apps have built-in support for integrated with Azure AD.
By using this feature Azure AD takes care of all the heavy lifting in regards to auth.</p>
<p>Read <a href="https://docs.microsoft.com/azure/app-service/configure-authentication-provider-aad">Configure your App Service or Azure Functions app to use Azure AD login</a> to find out how to configure it.</p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2021-06-27
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/Azure/PSDocs.Azure/" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.indexes", {"navigation.sections": {"level": 1}}, "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.477d984a.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.82b56eb2.min.js"></script>
      
    
  </body>
</html>